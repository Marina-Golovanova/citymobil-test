(this["webpackJsonpcitymobil-table"]=this["webpackJsonpcitymobil-table"]||[]).push([[0],{33:function(t,e,c){},35:function(t,e,c){},36:function(t,e,c){},37:function(t,e,c){},50:function(t,e,c){},51:function(t,e,c){},52:function(t,e,c){},53:function(t,e,c){},54:function(t,e,c){},55:function(t,e,c){},56:function(t,e,c){},57:function(t,e,c){},58:function(t,e,c){},59:function(t,e,c){"use strict";c.r(e);var n=c(0),a=c.n(n),r=c(4),s=c.n(r),o=c(7),i=(c(33),c(1)),u=function(){return Object(i.jsx)("div",{className:"header",children:"header"})},l=(c(35),function(){return Object(i.jsx)("div",{className:"sidebar",children:"sidebar"})}),j=c(2),d=(c(36),function(t){var e=a.a.useState(""),c=Object(j.a)(e,2),n=c[0],r=c[1],s=t.onInput;a.a.useEffect((function(){s(n)}),[n,s]);return Object(i.jsxs)("div",{className:"input-layout",children:[Object(i.jsx)("input",{className:"input-layout__field",placeholder:"\u041f\u043e\u0438\u0441\u043a",onChange:function(t){var e=t.target;r(e.value.toLowerCase())},onKeyPress:function(e){"Enter"===e.key&&t.onEnter(n)}}),Object(i.jsxs)("svg",{className:"input-layout__icon",viewBox:"0 0 16 16",fill:"none",children:[Object(i.jsx)("path",{d:"M9.58388 3.36469C11.268 5.04878 11.268 7.77924 9.58388 9.46333C7.89978 11.1474 5.16933 11.1474 3.48524 9.46333C1.80114 7.77924 1.80114 5.04878 3.48524 3.36469C5.16933 1.6806 7.89978 1.6806 9.58388 3.36469",stroke:"#7B8395",strokeWidth:"1.625",strokeLinecap:"round",strokeLinejoin:"round"}),Object(i.jsx)("path",{d:"M9.55273 9.48819L13.7777 13.771",stroke:"#7B8395",strokeWidth:"1.625",strokeLinecap:"round",strokeLinejoin:"round"})]})]})}),b=(c(37),function(t){return Object(i.jsx)("button",{className:"button",onClick:t.onButton,children:t.text})}),f=c(5),h=c.n(f),O=c(8),m=c(19),x=c(18),v=c.n(x),p={getCars:function(){var t=Object(O.a)(h.a.mark((function t(){var e,c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat("https://city-mobil.ru","/api/cars"));case 2:if(!(e=t.sent).ok){t.next=8;break}return t.next=6,e.json();case 6:return c=t.sent,t.abrupt("return",v()(c,{deep:!0}));case 8:throw new Error("Something went wrong");case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()},k=(c(50),function(t){return Object(i.jsx)("svg",{className:"sort-control ".concat(t.sortBy),viewBox:"0 0 12 14",children:Object(i.jsx)("path",{d:"M11.8333 5.5H8.49996V0.5H3.49996V5.5H0.166626L5.99996 11.3333L11.8333 5.5ZM0.166626 13V14.6667H11.8333V13H0.166626Z",fill:"#7B8395"})})}),N=(c(51),function(){return Object(i.jsx)("div",{className:"ph-item",children:Object(i.jsx)("div",{className:"ph-col-12",children:Object(i.jsxs)("div",{className:"ph-row",children:[Object(i.jsx)("div",{className:"ph-col-12 big"}),Object(i.jsx)("div",{className:"ph-col-12 big"}),Object(i.jsx)("div",{className:"ph-col-12 big"}),Object(i.jsx)("div",{className:"ph-col-12 big"}),Object(i.jsx)("div",{className:"ph-col-12 big"})]})})})}),w=(c(52),function(t){var e=a.a.useState(),c=Object(j.a)(e,2),n=c[0],r=c[1],s=a.a.useState(!1),u=Object(j.a)(s,2),l=u[0],d=u[1],b=a.a.useState("mark"),f=Object(j.a)(b,2),x=f[0],v=f[1],w=a.a.useState(!0),C=Object(j.a)(w,2),y=C[0],_=C[1],g=a.a.useState(),L=Object(j.a)(g,2),B=L[0],S=L[1],E=Object(o.useToasts)().addToast;a.a.useEffect((function(){d(!0),p.getCars().then((function(t){d(!1),r(t)})).catch((function(t){E(t.message,{appearance:"error"}),d(!1)}))}),[E]),a.a.useEffect((function(){if(n){var e=Object(m.a)({},n);t.search&&(e.cars=e.cars.filter((function(e){return"".concat(e.mark," ").concat(e.model).toLowerCase().includes(t.search)}))),e.cars=e.cars.sort((function(t,e){var c,n,a=y?1:-1;return"mark"===x?("".concat(t.mark," ").concat(t.model)>"".concat(e.mark," ").concat(e.model)?1:-1)*a:(((null===(c=t.tariffs[x])||void 0===c?void 0:c.year)||0)>((null===(n=e.tariffs[x])||void 0===n?void 0:n.year)||0)?1:-1)*a})),S(e)}}),[n,t.search,y,x]);var M=function(){var t=Object(O.a)(h.a.mark((function t(e){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:_(x!==e||!y),v(e);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return l?Object(i.jsx)(N,{}):Object(i.jsxs)("div",{className:"table",children:[Object(i.jsx)("div",{className:"table__row",children:n&&Object(i.jsxs)(i.Fragment,{children:[Object(i.jsxs)("div",{className:"table__title",onClick:function(){return M("mark")},children:["\u041c\u0430\u0440\u043a\u0430 \u0438 \u043c\u043e\u0434\u0435\u043b\u044c",Object(i.jsx)(k,{sortBy:"mark"===x?y?"asc":"desc":null})]}),n.tariffsList.map((function(t){return Object(i.jsxs)("div",{className:"table__title",onClick:function(){return M(t.toLowerCase())},children:[t,Object(i.jsx)(k,{sortBy:x===t.toLowerCase()?y?"asc":"desc":null})]},t)}))]})}),B&&B.cars.map((function(e){return Object(i.jsxs)("div",{className:"table__row",children:[Object(i.jsx)("div",{className:"table__cell",onClick:function(){return t.onChooseCar(e,0)},children:"".concat(e.mark," ").concat(e.model)}),B.tariffsList.map((function(c){var n;return Object(i.jsx)("div",{className:"table__cell",onClick:function(){return t.onChooseCar(e,e.tariffs[c.toLowerCase()]?e.tariffs[c.toLowerCase()].year:0)},children:(null===(n=e.tariffs[c.toLowerCase()])||void 0===n?void 0:n.year)||"\u2014"},c)}))]},"".concat(e.mark," ").concat(e.model))}))]})}),C=(c(53),function(){return Object(i.jsx)("button",{className:"scroll-to-top-button",onClick:function(){return window.scrollTo({top:0,behavior:"smooth"})},children:Object(i.jsx)("svg",{className:"scroll-to-top-button__icon",viewBox:"0 0 451.847 451.847",children:Object(i.jsx)("path",{d:"M225.923,354.706c-8.098,0-16.195-3.092-22.369-9.263L9.27,151.157c-12.359-12.359-12.359-32.397,0-44.751   c12.354-12.354,32.388-12.354,44.748,0l171.905,171.915l171.906-171.909c12.359-12.354,32.391-12.354,44.744,0   c12.365,12.354,12.365,32.392,0,44.751L248.292,345.449C242.115,351.621,234.018,354.706,225.923,354.706z"})})})}),y=(c(54),function(t){return Object(i.jsx)("div",{className:"input-readonly",children:t.text})}),_=(c(55),function(){var t=a.a.useState(!1),e=Object(j.a)(t,2),c=e[0],n=e[1],r=a.a.useState(""),s=Object(j.a)(r,2),o=s[0],u=s[1],l=a.a.useState(""),f=Object(j.a)(l,2),h=f[0],O=f[1],m=a.a.useState(),x=Object(j.a)(m,2),v=x[0],p=x[1];window.onscroll=function(){window.scrollY>300?n(!0):n(!1)};var k=function(){O(o)};return Object(i.jsxs)("div",{className:"main-content",children:[Object(i.jsx)("div",{className:"main-content__search-layout",children:Object(i.jsxs)("div",{className:"main-content__search",children:[Object(i.jsx)(d,{onInput:function(t){t?u(t):O("")},onEnter:k}),Object(i.jsx)(b,{text:"\u041d\u0430\u0439\u0442\u0438",onButton:k})]})}),Object(i.jsx)(w,{search:h,onChooseCar:function(t,e){return p({car:t,year:e})}}),c&&Object(i.jsx)(C,{}),Object(i.jsx)(y,{text:(null===v||void 0===v?void 0:v.year)?"\u0412\u044b\u0431\u0440\u0430\u043d \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u044c ".concat(v.car.mark," ").concat(v.car.model," ").concat(v.year," \u0433\u043e\u0434\u0430 \u0432\u044b\u043f\u0443\u0441\u043a\u0430"):"\u0410\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u044c \u043d\u0435 \u0432\u044b\u0431\u0440\u0430\u043d"})]})}),g=(c(56),function(){return Object(i.jsx)("div",{className:"footer",children:"footer"})}),L=(c(57),function(){return Object(i.jsxs)("div",{className:"page-layout",children:[Object(i.jsx)(u,{}),Object(i.jsx)(l,{}),Object(i.jsx)(_,{}),Object(i.jsx)(g,{})]})}),B=(c(58),function(){return Object(i.jsx)(o.ToastProvider,{children:Object(i.jsx)(L,{})})});s.a.render(Object(i.jsx)(a.a.StrictMode,{children:Object(i.jsx)(B,{})}),document.getElementById("root"))}},[[59,1,2]]]);
//# sourceMappingURL=main.2541f4e5.chunk.js.map